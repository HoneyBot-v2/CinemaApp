<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Cinema.MAUI.Pages.MovieDetailPage"
             Title="MovieDetailPage"
             BackgroundColor="#130B2B">
    <ScrollView>
        <Grid RowDefinitions="1*,3*,1*,Auto,Auto,Auto,Auto">
            <Image x:Name="ImgMovie" 
                   Opacity="0.7" 
                   Aspect="AspectFill" 
                   Grid.Row="0" 
                   Grid.RowSpan="3"/>
            <Label x:Name="LblMovieTitle"
                   Grid.Row="2"
                   FontAttributes="Bold"
                   FontSize="20"
                   TextColor="White"
                   HorizontalTextAlignment="Center"/>
            <VerticalStackLayout Grid.Row="3" Margin="10">
                <Label x:Name="LblMovieDescription" 
                       FontSize="16" 
                       TextColor="White" 
                       LineBreakMode="TailTruncation" 
                       MaxLines="3"/>
                <Label x:Name="LblReadMore" 
                       Text="Read More" 
                       TextColor="White" 
                       FontAttributes="Bold" 
                       HorizontalOptions="End" 
                       VerticalOptions="End">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer/>
                    </Label.GestureRecognizers>
                </Label>
            </VerticalStackLayout>
            <ImageButton x:Name="ImgBtnBack"
                         Grid.Row="0"
                         VerticalOptions="Start"
                         HorizontalOptions="Start"
                         Source="leftbtn_icon.png"
                         HeightRequest="40"
                         WidthRequest="40"
                         Clicked="ImgBtnBack_Clicked"/>
            <Label x:Name="SelectDateLabel"
                   Grid.Row="4"
                   Margin="0,50,0,0"
                   Text="Select Date and Time"
                   FontSize="20"
                   TextColor="White"
                   HorizontalOptions="Center"/>
            <CollectionView x:Name="CvMovieScreening"
                            Grid.Row="5"
                            Margin="20"
                            SelectionMode="Single">
                <CollectionView.ItemsLayout>
                    <LinearItemsLayout Orientation="Horizontal"
                                       ItemSpacing="20"/>
                </CollectionView.ItemsLayout>
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Border Stroke="Yellow"
                                StrokeThickness="2"
                                StrokeShape="RoundRectangle 10"
                                BackgroundColor="LightYellow"
                                HeightRequest="80"
                                WidthRequest="80"
                                Padding="0">
                            <VerticalStackLayout VerticalOptions="Center">
                                <!-- Movie Date formatted to day then short month -->
                                <Label FontSize="Small"
                                       TextColor="Black"
                                       HorizontalOptions="Center"/>
                                <!-- Movie time formatted to hour:minute AM/PM -->
                                <Label FontSize="Small"
                                       TextColor="Black"
                                       HorizontalOptions="Center"/>
                            </VerticalStackLayout>
                        </Border>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
            <Button x:Name="BtnReservation"
                    Grid.Row="6"
                    Text="Reservation"
                    FontAttributes="Bold"
                    BackgroundColor="#B6116B"
                    CornerRadius="25"
                    Margin="25,15,25,15"/>
        </Grid>
    </ScrollView>
</ContentPage>